<!DOCTYPE html>

<html lang="en-US">
  <head>
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
      type="text/javascript"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
      type="text/javascript"
    ></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
      type="text/css"
    />
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
      integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
      crossorigin="anonymous"
      type="text/javascript"
    ></script>

    <script src="ipfs.min.js" type="text/javascript"></script>
    <script src="main.js" type="text/javascript"></script>
    <script src="xss.js" type="text/javascript"></script>
    <script>
      async function updateHash (){
      var { cid } = await node.add(filterXSS(document.getElementById("body").value))
      console.log('Successfully stored: ', cid.string);
    document.getElementById("hash").innerHTML = "<center>"+ cid.string + "</center>"
  }
    </script>
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>
    <header>
  <div id="status">
      IPFS status: â­˜ (Not ready, Please wait!)
    </div><br><br><br>
<h1 id="title">
 <center> IPFSbin, a pastebin for IPFS</center>
    </h1><br><br><br>
  </header>
  <body>
    

    <div class="container">
      <center>
        <textarea
          id="body"
          rows="10"
          cols="125"
         name="body"
        ></textarea><br>
 <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" name="save" id="save" onclick="updateHash()">
  Save!
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Save your paste!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
<div>
  
</div>
        Your IPFS Hash: <code><pre id="hash" class="custom"></pre></code>
        Since this isn't a server based application, you have to save your work. This:
        <ul>
          <li>Give us no server cost</li>
          <li>Gives you more control of your data</li>
          <li>Helps the distrubuted web.</li>
        </ul>
        <h3>
          Using Pinata
        </h3>
      This is the simplest way to store your work. Just watch this video!
<video width="400" controls>
  <source src="https://cdn.glitch.com/82004cd7-a28e-47b6-b10c-963b72f410c5%2FIPFSbin%20Pinata%20Example.mp4?v=1600635709663" type="video/mp4">
  Your browser does not support HTML video. Plese try again on a newer/supported browser.
</video>
        <br><br>
        
        <h
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
      </center>
    </div>
  </body>
  <footer>
  
    <script>
   body.disabled = true;
   save.disabled = true;
   </script>
    
  </footer>
</html>
